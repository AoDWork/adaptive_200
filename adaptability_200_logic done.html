<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>БОО "Адаптивність-200"</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .form-section {
            padding: 30px;
            background: white;
        }
        
        .personal-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .form-group input, .form-group select {
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .instructions {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #ff9f43;
        }
        
        .instructions h3 {
            color: #d35400;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .instructions p {
            line-height: 1.6;
            color: #2c3e50;
        }
        
        .test-section {
            display: none;
        }
        
        .question-card {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }
        
        .question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .question-text {
            font-size: 1.1rem;
            line-height: 1.5;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .answer-options {
            display: flex;
            gap: 20px;
        }
        
        .radio-group {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .radio-group:hover {
            background: #f8f9fa;
            border-color: #667eea;
        }
        
        .radio-group input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: #667eea;
        }
        
        .radio-group label {
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            color: #2c3e50;
        }
        
        .progress-bar {
            background: #e1e8ed;
            height: 8px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding: 20px 0;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .results-section {
            display: none;
            padding: 30px;
            background: white;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .results-header h2 {
            color: #2c3e50;
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .result-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #667eea;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .result-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .score-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .score-interpretation {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #28a745;
        }
        
        .interpretation-text {
            font-size: 0.95rem;
            line-height: 1.5;
            color: #2c3e50;
        }
        
        .main-result {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .main-result h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .main-score {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .stress-level {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .personal-info {
                grid-template-columns: 1fr;
            }
            
            .answer-options {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Багаторівневий особистісний опитувальник</h1>
            <p>"Адаптивність-200"</p>
        </div>
        
        <div id="info-section" class="form-section">
            <div class="personal-info">
                <div class="form-group">
                    <label for="fullName">П.І.Б. (повністю):</label>
                    <input type="text" id="fullName" required>
                </div>
                <div class="form-group">
                    <label for="age">Вік:</label>
                    <input type="number" id="age" min="18" max="70" required>
                </div>
                <div class="form-group">
                    <label for="gender">Стать:</label>
                    <select id="gender" required>
                        <option value="">Оберіть</option>
                        <option value="Чоловіча">Чоловіча</option>
                        <option value="Жіноча">Жіноча</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="position">Посада (підрозділ):</label>
                    <input type="text" id="position">
                </div>
                <div class="form-group">
                    <label for="specialty">Спеціальність:</label>
                    <input type="text" id="specialty">
                </div>
                <div class="form-group">
                    <label for="rank">Військове звання:</label>
                    <input type="text" id="rank">
                </div>
            </div>
            
            <div class="instructions">
                <h3>Інструкція</h3>
                <p>Опитувальник складається з тверджень, що стосуються Вашого самопочуття, поведінки, характеру, інтересів і відносин в родині. Ваше завдання полягає у тому, щоб визначити своє відношення до кожного твердження, тобто погодитися або не погодитися з ним.</p>
                <br>
                <p><strong>Якщо Ви погоджуєтеся з твердженням</strong> - дайте відповідь "ТАК"</p>
                <p><strong>Якщо Ви не згодні</strong> - дайте відповідь "НІ"</p>
                <br>
                <p>Правильних або неправильних відповідей тут бути не може, тому довго не замислюйтеся над питанням – давайте відповідь, виходячи з того, що більше відповідає Вашому характеру або уявленню про самого себе.</p>
            </div>
            
            <div class="navigation">
                <div></div>
                <button id="startBtn" class="btn btn-primary">Розпочати тестування</button>
            </div>
        </div>
        
        <div id="test-section" class="test-section">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">Питання 1 з 200</div>
            
            <div id="questionContainer"></div>
            
            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Попереднє</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Наступне</button>
                <button class="btn btn-primary" id="finishBtn" onclick="finishTest()" style="display: none;">Завершити тест</button>
            </div>
        </div>
        
        <div id="results-section" class="results-section">
            <div class="results-header">
                <h2>Результати тестування</h2>
                <p id="participantInfo"></p>
            </div>
            
            <div id="mainResult" class="main-result"></div>
            
            <div id="resultsContainer" class="results-grid"></div>
        </div>
    </div>

    <script>
 // Массив всех 200 вопросов
const questions = [
    "Буває, що я серджуся.",
    "Зазвичай вранці я прокидаюся свіжим і відпочилим.",
    "Зараз я приблизно так само працездатний, як і завжди.",
    "Доля безумовно несправедлива до мене.",
    "Закрепи у мене бувають дуже рідко.",
    "Часом мені дуже хотілося покинути свій дім.",
    "Часом у мене бувають напади сміху або плачу, з якими я ніяк не можу впоратись.",
    "Мені здається, що мене ніхто не розуміє.",
    "Вважаю, що якщо хтось заподіяв мені зло, я повинен йому відповісти тим же.",
    "Іноді мені в голову приходять такі нехороші думки, що краще про них нікому не розказувати.",
    "Мені важко зосередитися на якому-небудь завданні або роботі.",
    "У мене бувають дуже дивні і незвичайні переживання.",
    "У мене не було неприємностей через мою поведінку.",
    "В дитинстві я скоював дрібні крадіжки.",
    "Буває, у мене з'являється бажання ламати або крушити все навколо.",
    "Бувало, що я цілими днями або навіть тижнями нічого не міг робити, тому що ніяк не міг примусити себе взятися до роботи.",
    "Сон у мене переривчатий і неспокійний.",
    "Моя сім'я відноситься з несхваленням до тієї роботи, яку я обрав.",
    "Бували випадки, що я не виконував своїх обіцянок.",
    "Голова у мене болить часто.",
    "Раз на тиждень або частіше я без жодної видимої причини раптово відчуваю жар у всьому тілі.",
    "Було б добре, якби майже всі закони відмінили.",
    "Стан мого здоров'я майже такий же, як у більшості моїх знайомих (не гірше).",
    "Зустрічаючи на вулиці своїх знайомих або шкільних друзів, з якими я давно не бачився, я вважаю за краще проходити осторонь від них, якщо вони зі мною не заговорюють першими.",
    "Більшості людей, які мене знають, я подобаюся.",
    "Я людина товариська.",
    "Іноді я так наполягаю на своєму, що люди втрачають терпіння.",
    "Значну частину часу настрій у мене пригнічений.",
    "Тепер мені важко сподіватися на те, що я чого-небудь досягну у житті.",
    "У мене мало впевненості в собі.",
    "Іноді я кажу неправду.",
    "Зазвичай я вважаю, що життя – гарна річ.",
    "Я вважаю, що більшість людей здатна збрехати, щоб просунутись по службі.",
    "Я охоче беру участь у зібраннях, зборах і інших суспільних заходах.",
    "Я сварюся з членами моєї сім'ї дуже рідко.",
    "Іноді у мене виникає сильне бажання порушити правила пристойності або кому-небудь нашкодити.",
    "Найважча боротьба для мене - це боротьба з самим собою.",
    "М'язові судоми або сіпання у мене бувають украй рідко (або майже не бувають).",
    "Я досить байдужий до того, що зі мною буде.",
    "Іноді, коли я не добре себе відчуваю я буваю дратівливим.",
    "Значну частину часу у мене таке відчуття, що я зробив щось не те або навіть щось погане.",
    "Деякі люди до того полюбляют командувати, що мені так і кортить робити все наперекір, навіть якщо я знаю, що вони мають рацію.",
    "Я часто вважаю себе зобов'язаним відстоювати те, що вважаю справедливим.",
    "Моя мова зараз така ж як завжди (не швидше і не повільніше, немає ні хрипоти, ні виразності).",
    "Я вважаю, що моє сімейне життя таке ж добре, як у більшості моїх знайомих.",
    "Мене вкрай зачіпає, коли мене критикують або сварять.",
    "Іноді у мене буває таке відчуття, що я просто повинен нанести ушкодження собі або кому-небудь іншому.",
    "Моя поведінка значною мірою визначається звичаями тих, хто мене оточує.",
    "В дитинстві у мене була така компанія, де всі прагнули стояти один за одного.",
    "Іноді мені так і кортить з ким-небудь затіяти бійку.",
    "Бувало, що я казав про речі, в яких не розбираюся.",
    "Зазвичай я засинаю спокійно і мене не турбують ніякі думки.",
    "Останні декілька років я відчуваю себе добре.",
    "У мене ніколи не було ні припадків, ні судом.",
    "Зараз моя вага постійна (я не худну і не повнішаю).",
    "Я вважаю, що часто мене карали несправедливо.",
    "Я легко можу розплакатись.",
    "Я мало стомлююся.",
    "Я був би досить спокійний, якби у кого-небудь з моєї сім'ї були неприємності через порушення закону.",
    "З моїм розумом твориться щось недобре.",
    "Щоб приховати свою сором'язливість мені доводиться докладати великі зусилля.",
    "Напади запаморочення у мене бувають дуже рідко (або майже не бувають).",
    "Мене турбують сексуальні (статеві) питання.",
    "Мені важко підтримувати розмову з людьми, з якими я тільки що познайомився.",
    "Коли я намагаюся щось зробити, то часто помічаю, що у мене тремтять руки.",
    "Руки у мене такі ж спритні і моторні, як і раніше.",
    "Велику частину часу я відчуваю загальну слабкість.",
    "Іноді, коли я збентежений я сильно вкриваюся потом і мене це дратує.",
    "Буває, що я відкладаю на завтра те, що повинен зробити сьогодні.",
    "Думаю, що я людина приречена.",
    "Бували випадки, що мені було важко утриматися від того, щоб що-небудь не поцупити в кого-небудь або де-небудь, наприклад у магазині",
    "Я зловживав спиртними напоями.",
    "Я часто про що-небудь турбуюся.",
    "Мені б хотілося бути членом декількох гуртків або зборів.",
    "Я рідко задихаюся, і у мене не буває сильного серцебиття.",
    "Все своє життя я суворо дотримуюся принципів, заснованих на почутті обов'язку.",
    "Траплялося, що я перешкоджав або поступав наперекір людям просто із принципу, а не тому, що справа була дійсно важливою.",
    "Якщо мені не загрожує штраф і машин поблизу немає, я можу перейти вулицю там, де бажаю, а не там де потрібно.",
    "Я завжди був незалежним і вільним від контролю з боку сім'ї.",
    "У мене бували періоди такої сильної стурбованості, що я навіть не міг всидіти на місці.",
    "Часто мої вчинки тлумачилися не вірно.",
    "Мої батьки і (або) інші члени моєї сім'ї прискіпуються до мене більше, ніж потрібно.",
    "Хтось керує моїми думками.",
    "Люди байдужі до того, що з тобою може трапитися.",
    "Мені подобається бути в компанії, де всі жартують один над одним.",
    "В школі я засвоював матеріал повільніше, аніж інші.",
    "Я цілком впевнений у собі.",
    "Нікому не довіряти – найбезпечніше.",
    "Раз на тиждень або частіше я буваю дуже збудженим і схвильованим.",
    "Коли я знаходжуся в компанії, мені важко знайти відповідну тему для розмови.",
    "Мені легко примусити інших людей боятися мене, і іноді я це роблю ради забави.",
    "У грі я вважаю за краще вигравати.",
    "Безглуздо засуджувати людину, яка обдурила того, хто сам дозволяє себе обдурювати.",
    "Хтось намагається впливати на мої думки.",
    "Я щодня випиваю багато води.",
    "Щасливіше всього я буваю наодинці.",
    "Я обурююся кожного разу, коли дізнаюся, що злочинець з якої-небудь причини залишився безкарним.",
    "У моєму житті був один або декілька випадків, коли я відчував, що хтось за допомогою гіпнозу примушує мене скоювати ті або інші вчинки.",
    "Я дуже рідко починаю розмову з людьми першим.",
    "У мене ніколи не було зіткнень із законом.",
    "Мені приємно мати серед своїх знайомих значних людей, це як би додає мені вагу у власних очах.",
    "Іноді без жодної причини у мене раптом наступають періоди незвичайної веселості.",
    "Життя для мене майже завжди пов'язано з напругою.",
    "У школі мені було дуже важко виступати перед класом.",
    "Люди проявляють по відношенні до мене стільки співчуття і симпатії, наскільки я заслуговую.",
    "Я відмовляюся грати в деякі ігри, тому що це у мене погано виходить.",
    "Мені здається, що я знаходжу друзів з такою ж легкістю, як і інші.",
    "Мені неприємно, коли навколо мене є люди.",
    "Як правило, мені не везе.",
    "Мене легко збити з пантелику.",
    "Деякі з членів моєї сім'ї скоювали вчинки, які мене лякали.",
    "Іноді у мене бувають напади сміху або плачу, з якими я ніяк не можу впоратись.",
    "Мені важко приступити до виконання нового завдання або розпочати нову справу.",
    "Якби люди не були налаштовані проти мене, я досягнув би у житті набагато більшого.",
    "Мені здається, що мене ніхто не розуміє",
    "Серед моїх знайомих є люди, які мені не подобаються.",
    "Я легко втрачаю терпіння з людьми.",
    "Часто у новій обстановці я переживаю почуття тривоги.",
    "Часто мені хочеться померти.",
    "Іноді я такий збуджений, що мені важко заснути.",
    "Часто я переходжу на іншу сторону вулиці, щоб уникнути зустрічі з тим, кого я побачив",
    "Бувало, що я кидав почату справу, оскільки боявся, що я не справлюся з нею",
    "Майже щодня трапляється що-небудь, що лякає мене",
    "Навіть серед людей я зазвичай відчуваю себе самотнім.",
    "Я переконаний, що існує лише одне єдине правильне розуміння значення життя.",
    "В гостях я частіше сиджу де-небудь осторонь або розмовляю з ким-небудь одним, ніж беру участь у загальних розвагах.",
    "Мені часто кажуть, що я запальний.",
    "Буває, що я з ким-небудь пліткую.",
    "Часто мені неприємно, коли я намагаюся застерегти кого-небудь від помилок, а мене розуміють невірно.",
    "Я часто звертаюся до людей за порадою.",
    "Часто, навіть тоді, коли усе для мене складається добре, я відчуваю що мені усе байдуже.",
    "Мене досить важко вивести з себе.",
    "Коли я намагаюся вказати людям на їх помилки або допомогти вони часто розуміють мене неправильно.",
    "Зазвичай я спокійний, і мене нелегко вивести з душевної рівноваги.",
    "Я заслуговую суворого покарання за свою провину.",
    "Мені притаманно так сильно переживати свої розчарування, що я не можу примусити себе не думати про них.",
    "Часом мені здається, що я ні на що не здатний.",
    "Бувало, що під час обговорення деяких питань я, особливо не замислюючись, погоджувався з думкою інших.",
    "Мене дуже турбують різні нещастя.",
    "Мої переконання і погляди непохитні.",
    "Я вважаю, що можна не порушуючи закон спробувати знайти в ньому лазівку.",
    "Є люди, які мені настільки неприємні, що я в глибині душі радію, коли вони одержують прочухан за що-небудь.",
    "У мене бували періоди, коли через хвилювання я втрачав сон.",
    "Я відвідую різні суспільні заходи, тому що це дозволяє бувати мені серед людей.",
    "Можна пробачити людям порушення тих правил, які вони вважають нерозсудливими.",
    "У мене є погані звички, які є настільки сильними, що боротися з ними просто марно.",
    "Я охоче знайомлюся з новими людьми.",
    "Буває, що непристойний жарт у мене викликає сміх.",
    "Якщо справа йде у мене погано, то мені відразу хочеться все кинути.",
    "Я вважаю за краще діяти відповідно до власних планів, а не слідувати вказівкам інших.",
    "Мені подобається, коли оточуючі знають мою точку зору.",
    "Якщо я поганої думки про людину або навіть зневажаю її, я мало прагну приховати це від неї.",
    "Я людина нервова і легко збудлива.",
    "Все у мене виходить погано, не так як треба.",
    "Майбутнє здається мені безнадійним.",
    "Люди досить легко можуть змінити мою думку, навіть якщо до цього вона здавалася мені остаточною.",
    "Кілька разів на тиждень у мене буває таке відчуття, що повинно трапитися щось жахливе.",
    "Значну частину часу я відчуваю себе втомленим.",
    "Я люблю бувати на вечірках і просто в компаніях.",
    "Я прагну ухилитися від конфліктів і скрутних ситуацій.",
    "Мене дуже дратує те, що я забуваю, куди кладу речі.",
    "Пригодницькі розповіді мені подобаються більше, ніж розповіді про любов.",
    "Якщо я захочу зробити щось, але оточуючі вважають, що цього робити не варто, я можу легко відмовитися від своїх намірів.",
    "Безглуздо засуджувати людей, які прагнуть урвати від життя все, що можуть.",
    "Мені байдуже, що про мене думають інші.",
    "Я абсолютно не пристосований до військової служби і це мене дуже лякає.",
    "Я переконаний, що чоловіки повинні служити у Збройних Силах тільки за власним бажанням.",
    "Останнім часом у мене все частіше і частіше трапляються 'промахи' і невдачі по службі.",
    "Найбільші труднощі для мене під час служби – це необхідність підкорятися командирам і начальникам.",
    "Тим правилам, які, на мій погляд, несправедливі, я завжди прагну протидіяти.",
    "Мені хотілося б випробувати себе серйозною і небезпечною справою.",
    "Мене довго не залишає відчуття образи, заподіяне товаришами.",
    "Жити за військовим розпорядком для мене просто нестерпно.",
    "Я сумніваюся, що зможу зі своїм здоров'ям витримати всі навантаження військової служби.",
    "Я заздрю тим, хто зміг ухилитися від військової служби.",
    "Я відчуваю все більше і більше розчарувань по відношенню до моєї військової спеціальності.",
    "Я часто розгублююся у складних і небезпечних ситуаціях.",
    "Мені хотілося б служити у ВДВ або частинах спеціального призначення.",
    "Із службою у мене нічого не виходить (не 'клеїться'). Часто думаю: 'не моя це справа'.",
    "Коли мною хтось командує, це викликає у мене відчуття протесту.",
    "Мені завжди було важко пристосовуватися до нового колективу.",
    "Під час подальшої служби я був би не проти послужити там, де небезпечно і де ведуться бойові дії.",
    "Присяга на вірність Вітчизні у сучасних умовах втратила свою актуальність.",
    "Мені завжди було нелегко пристосовуватися до нових умов життя.",
    "У складних ситуаціях я не можу швидко приймати правильні рішення",
    "Я впевнений, що в майбутньому не стану укладати або продовжувати контракт на продовження військової служби.",
    "У мене бувають періоди похмурої дратівливості, під час яких я 'зриваю злість' на оточуючих.",
    "Я насилу витримую фізичні навантаження, пов'язані з моєю професійною діяльністю.",
    "Я достатньо спокійно ставлюся до необхідності брати участь в тривалих і небезпечних відрядженнях.",
    "Навряд чи я схочу присвятити все своє життя військовій професії (продовжити контракт, залишитися на службу за контрактом, вступити до військового навчального закладу).",
    "'За компанію' з товаришами я можу прийняти неабияку кількість алкоголю (перевищити свою звичайну 'норму').",
    "У компаніях, де я часто буваю, друзі іноді палять'травичку'. Я їх за це не засуджую.",
    "Останнім часом, щоб не 'зірватися', я був вимушений приймати заспокійливі ліки.",
    "Мої батьки (родичі) часто виказували побоювання у зв'язку з моїми випивками.",
    "Немає нічого поганого, коли люди намагаються випробувати на собі незвичайні стани, приймаючи деякі речовини.",
    "У стані агресії я здатний багато на що.",
    "Я 'крутий' і жорстокий з оточуючими.",
    "Якщо хтось заподіяв мені зло, я вважаю зобов'язаним відплатити йому тим же ('око за око, зуб за зуб').",
    "Можна погодитися з тим, що я не дуже схильний виконувати багато наказів, вважаючи їх безрозсудними.",
    "Я думаю, що будь-яке положення законів і військових статутів можна тлумачити двояко."
];

// Ключи для подсчета баллов по шкалам
const scales = {
    reliability: {
        name: "Достовірність (Д)",
        yes: [1, 10, 19, 31, 51, 69, 78, 92, 101, 116, 128, 138, 148],
        no: []
    },
    behavioralRegulation: {
        name: "Поведінкова регуляція (ПР)",
        yes: [4, 6, 7, 8, 11, 12, 15, 16, 17, 18, 20, 21, 28, 29, 30, 36, 37, 39, 40, 41, 47, 57, 60, 63, 65, 67, 68, 70, 73, 80, 82, 83, 84, 86, 89, 94, 95, 96, 98, 102, 103, 108, 109, 110, 111, 112, 113, 115, 117, 118, 119, 120, 122, 123, 124, 125, 127, 129, 131, 135, 136, 137, 139, 143, 146, 149, 153, 154, 155, 156, 157, 158, 161, 162],
        no: [2, 3, 5, 23, 25, 32, 38, 44, 45, 52, 53, 54, 55, 58, 62, 66, 75, 87, 105, 132, 134, 140]
    },
    communicativePotential: {
        name: "Комунікативний потенціал (КП)",
        yes: [9, 24, 27, 43, 46, 61, 64, 81, 88, 90, 99, 104, 106, 114, 121, 126, 133, 142, 151, 152],
        no: [26, 34, 35, 48, 49, 74, 85, 107, 130, 144, 147, 159]
    },
    moralNormativity: {
        name: "Морально-етична нормативність (МН)",
        yes: [14, 22, 33, 42, 50, 56, 59, 71, 72, 77, 79, 91, 93, 141, 145, 150, 164, 165],
        no: [13, 76, 97, 100, 160, 163]
    },
    militaryProfessional: {
        name: "Військово-професійна спрямованість (ВПС)",
        yes: [166, 167, 168, 169, 170, 172, 173, 174, 175, 176, 177, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190],
        no: [171, 178, 182, 189]
    },
    deviantBehavior: {
        name: "Схильність до девіантних форм поведінки (ДАП)",
        yes: [6, 9, 14, 15, 22, 36, 39, 42, 47, 50, 56, 59, 71, 72, 91, 93, 117, 127, 141, 145, 151, 152, 164, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200],
        no: [13, 100, 163]
    },
    suicidalRisk: {
        name: "Суїцидальний ризик (СР)",
        yes: [4, 8, 10, 28, 29, 39, 41, 47, 70, 84, 115, 119, 124, 136, 137, 149, 154, 155],
        no: [32, 105]
    }
};

// Таблицы перевода в стены
const stenTables = {
    main: {
        PR: {10: [0,4], 9: [5], 8: [6,8], 7: [9,12], 6: [13,18], 5: [19,26], 4: [27,34], 3: [35,45], 2: [46,56], 1: [57,200]},
        KP: {10: [0,5], 9: [6], 8: [7,8], 7: [9,10], 6: [11,12], 5: [13,14], 4: [15,17], 3: [18,19], 2: [20,22], 1: [23,200]},
        MN: {10: [0,3], 9: [4], 8: [5,6], 7: [7], 6: [8,9], 5: [10,11], 4: [12,13], 3: [14,15], 2: [16], 1: [17,200]}
    },
    additional: {
        VPS: {10: [0], 9: [1], 8: [2,3], 7: [4], 6: [5,7], 5: [8,10], 4: [11,13], 3: [14,15], 2: [16,17], 1: [18,25]},
        DAP: {10: [0,3], 9: [4,5], 8: [6,7], 7: [8,9], 6: [10,11], 5: [12,14], 4: [15,17], 3: [18,20], 2: [21,24], 1: [25,200]},
        SR: {10: [0], 9: [0], 8: [1], 7: [2], 6: [3], 5: [4], 4: [5,6], 3: [7,9], 2: [10,14], 1: [15,200]}
    },
    reliability: {10: [0,5], 9: [6,9], 8: [10,13], 7: [14,17], 6: [18,21], 5: [22,25], 4: [26,29], 3: [30,33], 2: [34,37], 1: [38,200]}
};

const interpretations = {
    PR: {
        "10-8": "Високий рівень нервово-психічної стійкості і поведінкової регуляції. Висока толерантність до стресових навантажень.",
        "7": "Достатньо високий рівень нервово-психічної стійкості. Здатність витримувати значні стресові навантаження.",
        "6": "Задовільний рівень поведінкової регуляції. Помірна стресостійкість.",
        "5": "Середній рівень нервово-психічної стійкості. Можливі труднощі при тривалих стресах.",
        "4": "Знижений рівень поведінкової регуляції. Підвищена вразливість до стресів.",
        "3-1": "Низький рівень нервово-психічної стійкості. Висока ймовірність дезадаптивних реакцій."
    },
    KP: {
        "10-8": "Високий комунікативний потенціал. Легко встановлює контакти, активний у спілкуванні.",
        "7": "Достатньо високі комунікативні здібності. Добре адаптується в колективі.",
        "6": "Задовільний рівень комунікативних навичок. Помірна соціальна активність.",
        "5": "Середній комунікативний потенціал. Селективність у спілкуванні.",
        "4": "Знижені комунікативні здібності. Можливі труднощі в міжособистісних відносинах.",
        "3-1": "Низький комунікативний потенціал. Схильність до соціальної ізоляції."
    },
    MN: {
        "10-8": "Високий рівень морально-етичної нормативності. Чітке дотримання моральних принципів.",
        "7": "Достатньо високий рівень моральної нормативності. Загалом законослухняна поведінка.",
        "6": "Задовільний рівень морально-етичних настанов. Переважно нормативна поведінка.",
        "5": "Середній рівень моральної нормативності. Ситуативна оцінка моральних норм.",
        "4": "Знижений рівень морально-етичної нормативності. Можливі відхилення від загальноприйнятих норм.",
        "3-1": "Низький рівень моральної нормативності. Схильність до антисоціальної поведінки."
    },
    VPS: {
        "10-8": "Висока військово-професійна мотивація. Сильна спрямованість на військову службу.",
        "7": "Достатньо висока професійна мотивація. Позитивне ставлення до військової служби.",
        "6": "Задовільний рівень військово-професійної спрямованості.",
        "5": "Середній рівень мотивації до військової служби. Нейтральне ставлення.",
        "4": "Знижена військово-професійна мотивація. Можливі труднощі адаптації.",
        "3-1": "Низька військово-професійна спрямованість. Негативне ставлення до служби."
    },
    DAP: {
        "10-8": "Мінімальний ризик девіантної поведінки. Високий рівень самоконтролю.",
        "7": "Низький ризик девіантних проявів. Достатній самоконтроль.",
        "6": "Помірний ризик девіантної поведінки. Переважно адекватні форми реагування.",
        "5": "Середній рівень схильності до девіантної поведінки.",
        "4": "Підвищений ризик девіантних проявів. Можливі порушення дисципліни.",
        "3-1": "Високий ризик девіантної поведінки. Схильність до антисоціальних дій."
    },
    SR: {
        "10-8": "Відсутність суїцидального ризику. Стабільний емоційний стан.",
        "7": "Мінімальний суїцидальний ризик. Переважно позитивний настрій.",
        "6": "Низький рівень суїцидального ризику.",
        "5": "Помірний суїцидальний ризик. Періодичні негативні переживання.",
        "4": "Підвищений суїцидальний ризик. Потребує уваги спеціалістів.",
        "3-1": "Високий суїцидальний ризик. Потребує термінового втручання психолога."
    },
    reliability: {
        "10-7": "Високий рівень достовірності результатів. Щира поведінка під час тестування.",
        "6-4": "Задовільний рівень достовірності. Переважно щирі відповіді.",
        "3-1": "Низький рівень достовірності. Можлива соціально бажана поведінка або симуляція."
    }
};

// Глобальные переменные
let currentQuestion = 0;
let answers = {};
let testData = {};
let startBtn = document.querySelector('#startBtn');
// const infoSection = document.getElementById('info-section')

// Функции управления тестом
function startTest() {
    // Проверка заполнения персональных данных
    const requiredFields = ['fullName', 'age', 'gender'];
    for (let field of requiredFields) {
        const element = document.getElementById(field);
        if (!element.value.trim()) {
            alert('Будь ласка, заповніть всі обов\'язкові поля');
            element.focus();
            return;
        }
    }


    
    // Сохранение персональных данных
    testData = {
        fullName: document.getElementById('fullName').value,
        age: document.getElementById('age').value,
        gender: document.getElementById('gender').value,
        position: document.getElementById('position').value,
        specialty: document.getElementById('specialty').value,
        rank: document.getElementById('rank').value,
        startTime: new Date()
    };
    
    // Переход к тестированию
    document.getElementById('info-section').style.display = 'none';
    document.getElementById('test-section').style.display = 'block';
    
    showQuestion(0);
}

startBtn.addEventListener('click', () => {
                startTest()
            });

function showQuestion(questionIndex) {
    const container = document.getElementById('questionContainer');
    const question = questions[questionIndex];
    
    container.innerHTML = `
        <div class="question-card">
            <div class="question-number">${questionIndex + 1}</div>
            <div class="question-text">${question}</div>
            <div class="answer-options">
                <div class="radio-group">
                    <input type="radio" id="yes_${questionIndex}" name="q_${questionIndex}" value="yes" 
                           ${answers[questionIndex] === 'yes' ? 'checked' : ''}>
                    <label for="yes_${questionIndex}">ТАК</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="no_${questionIndex}" name="q_${questionIndex}" value="no"
                           ${answers[questionIndex] === 'no' ? 'checked' : ''}>
                    <label for="no_${questionIndex}">НІ</label>
                </div>
            </div>
        </div>
    `;
    
    // Обработчики событий для радиокнопок
    const radioInputs = container.querySelectorAll('input[type="radio"]');
    radioInputs.forEach(input => {
        input.addEventListener('change', function() {
            answers[questionIndex] = this.value;
            updateNavigationButtons();
        });
    });
    
    updateProgress();
    updateNavigationButtons();
}

function updateProgress() {
    const progress = ((currentQuestion + 1) / questions.length) * 100;
    document.getElementById('progressBar').style.width = progress + '%';
    document.getElementById('progressText').textContent = `Питання ${currentQuestion + 1} з ${questions.length}`;
}

function updateNavigationButtons() {
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const finishBtn = document.getElementById('finishBtn');
    
    prevBtn.disabled = currentQuestion === 0;
    
    if (currentQuestion === questions.length - 1) {
        nextBtn.style.display = 'none';
        finishBtn.style.display = 'inline-block';
        finishBtn.disabled = !answers[currentQuestion];
    } else {
        nextBtn.style.display = 'inline-block';
        finishBtn.style.display = 'none';
        nextBtn.disabled = !answers[currentQuestion];
    }
}

function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        showQuestion(currentQuestion);
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
    }
}

function finishTest() {
    // Проверка, что все вопросы отвечены
    for (let i = 0; i < questions.length; i++) {
        if (!answers[i]) {
            alert(`Будь ласка, дайте відповідь на питання ${i + 1}`);
            currentQuestion = i;
            showQuestion(currentQuestion);
            return;
        }
    }
    
    testData.endTime = new Date();
    testData.answers = answers;
    
    calculateResults();
    showResults();
}

function calculateResults() {
    const results = {};
    
    // Подсчет баллов по каждой шкале
    Object.keys(scales).forEach(scaleKey => {
        const scale = scales[scaleKey];
        let score = 0;
        
        // Подсчет по ответам "да"
        scale.yes.forEach(questionNum => {
            if (answers[questionNum - 1] === 'yes') {
                score++;
            }
        });
        
        // Подсчет по ответам "нет"
        scale.no.forEach(questionNum => {
            if (answers[questionNum - 1] === 'no') {
                score++;
            }
        });
        
        results[scaleKey] = {
            rawScore: score,
            scaleName: scale.name
        };
    });
    
    // Перевод в стены
    convertToStens(results);
    
    testData.results = results;
}

function convertToStens(results) {
    // Основные шкалы
    ['behavioralRegulation', 'communicativePotential', 'moralNormativity'].forEach(scale => {
        const shortName = getShortScaleName(scale);
        if (stenTables.main[shortName]) {
            results[scale].sten = getSten(results[scale].rawScore, stenTables.main[shortName]);
        }
    });
    
    // Дополнительные шкалы
    ['militaryProfessional', 'deviantBehavior', 'suicidalRisk'].forEach(scale => {
        const shortName = getShortScaleName(scale);
        if (stenTables.additional[shortName]) {
            results[scale].sten = getSten(results[scale].rawScore, stenTables.additional[shortName]);
        }
    });
    
    // Шкала достоверности
    if (stenTables.reliability) {
        results.reliability.sten = getSten(results.reliability.rawScore, stenTables.reliability);
    }
}

function getShortScaleName(fullName) {
    const mapping = {
        'behavioralRegulation': 'PR',
        'communicativePotential': 'KP',
        'moralNormativity': 'MN',
        'militaryProfessional': 'VPS',
        'deviantBehavior': 'DAP',
        'suicidalRisk': 'SR'
    };
    return mapping[fullName];
}

function getSten(rawScore, stenTable) {
    for (let sten = 10; sten >= 1; sten--) {
        if (stenTable[sten]) {
            const range = stenTable[sten];
            if (rawScore >= range[0] && rawScore <= (range[1] || range[0])) {
                return sten;
            }
        }
    }
    return 1; // По умолчанию
}

function getInterpretationKey(sten) {
    if (sten >= 8) return "10-8";
    if (sten === 7) return "7";
    if (sten === 6) return "6";
    if (sten === 5) return "5";
    if (sten === 4) return "4";
    if (sten <= 3) return "3-1";
}

function showResults() {
    document.getElementById('test-section').style.display = 'none';
    document.getElementById('results-section').style.display = 'block';
    
    // Информация об участнике
    document.getElementById('participantInfo').innerHTML = `
        <strong>${testData.fullName}</strong> | 
        Вік: ${testData.age} | 
        Стать: ${testData.gender} | 
        Дата: ${testData.endTime.toLocaleDateString('uk-UA')}
    `;
    
    // Основной результат - общий уровень адаптивности
    const mainResult = calculateMainAdaptability();
    document.getElementById('mainResult').innerHTML = `
        <h3>Загальний рівень адаптивності</h3>
        <div class="main-score">${mainResult.score}</div>
        <div class="stress-level">${mainResult.level}</div>
    `;
    
    // Результаты по шкалам
    const resultsContainer = document.getElementById('resultsContainer');
    resultsContainer.innerHTML = '';
    
    Object.keys(testData.results).forEach(scaleKey => {
        const result = testData.results[scaleKey];
        const shortName = getShortScaleName(scaleKey) || scaleKey.toUpperCase();
        const interpretationKey = getInterpretationKey(result.sten);
        const interpretation = interpretations[shortName] ? 
            interpretations[shortName][interpretationKey] || 'Інтерпретація відсутня' : 
            'Інтерпретація відсутня';
        
        const cardHtml = `
            <div class="result-card">
                <h3>${result.scaleName}</h3>
                <div class="score-display">
                    <span>Сирий бал: <strong>${result.rawScore}</strong></span>
                    <span class="score-value">${result.sten} стен</span>
                </div>
                <div class="score-interpretation">
                    <div class="interpretation-text">${interpretation}</div>
                </div>
            </div>
        `;
        resultsContainer.innerHTML += cardHtml;
    });
    
    // Добавляем кнопки действий
    resultsContainer.innerHTML += `
        <div style="grid-column: 1 / -1; text-align: center; margin-top: 30px;">
            <button class="btn btn-primary" onclick="printResults()" style="margin-right: 15px;">
                Роздрукувати результати
            </button>
            <button class="btn btn-secondary" onclick="restartTest()">
                Пройти тест заново
            </button>
        </div>
    `;
}

function calculateMainAdaptability() {
    const results = testData.results;
    
    // Расчет на основе основных шкал
    const prSten = results.behavioralRegulation.sten;
    const kpSten = results.communicativePotential.sten;
    const mnSten = results.moralNormativity.sten;
    
    // Средневзвешенная оценка
    const avgSten = Math.round((prSten + kpSten + mnSten) / 3);
    
    let level = '';
    if (avgSten >= 8) level = 'ВИСОКИЙ рівень адаптивності';
    else if (avgSten >= 6) level = 'ДОСТАТНІЙ рівень адаптивності';
    else if (avgSten >= 4) level = 'ЗАДОВІЛЬНИЙ рівень адаптивності';
    else level = 'НИЗЬКИЙ рівень адаптивності';
    
    return {
        score: avgSten,
        level: level
    };
}

function printResults() {
    window.print();
}

function restartTest() {
    if (confirm('Ви впевнені, що хочете розпочати тест заново? Всі результати будуть втрачені.')) {
        // Сброс всех данных
        currentQuestion = 0;
        answers = {};
        testData = {};
        
        // Очистка полей
        document.getElementById('fullName').value = '';
        document.getElementById('age').value = '';
        document.getElementById('gender').value = '';
        document.getElementById('position').value = '';
        document.getElementById('specialty').value = '';
        document.getElementById('rank').value = '';
        
        // Возврат к начальной форме
        document.getElementById('results-section').style.display = 'none';
        document.getElementById('test-section').style.display = 'none';
        document.getElementById('info-section').style.display = 'block';
    }
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    // Добавляем обработчики для Enter в полях формы
    const formInputs = document.querySelectorAll('#info-section input, #info-section select');
    formInputs.forEach(input => {
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startTest();
            }
        });
    });
    
    // Автофокус на первое поле
    document.getElementById('fullName').focus();
});

// Предотвращение потери данных при закрытии страницы
window.addEventListener('beforeunload', function(e) {
    if (Object.keys(answers).length > 0 && !testData.results) {
        e.preventDefault();
        e.returnValue = 'У вас є незбережені дані тестування. Ви впевнені, що хочете покинути сторінку?';
    }
});
</script>
</body>

</html>